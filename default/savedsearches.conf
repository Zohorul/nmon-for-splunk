
############################################################
#	Simple search used in Home page to show
#	numbers of hosts indexed within last 7 days
############################################################

[Hosts with data within last 7 days]
action.email.reportServerEnabled = 0
alert.track = 0
auto_summarize = 1
auto_summarize.dispatch.earliest_time = -7d@d
cron_schedule = 0 * * * *
description = Number of hosts with data within last 7 days
dispatch.earliest_time = -7d@h
dispatch.latest_time = now
display.general.type = statistics
display.visualizations.chartHeight = 420
display.visualizations.charting.chart = area
display.visualizations.show = 0
enableSched = 1
request.ui_dispatch_app = nmon
request.ui_dispatch_view = search
search = index=nmon sourcetype=nmon_data | stats dc(hostname) As count


#############################################################
# Indexing Volume
#############################################################

[Volume of Data indexed Today]
action.email.reportServerEnabled = 0
action.email.useNSSubject = 1
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize = 1
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = */2 * * * *
dispatch.earliest_time = @d
dispatch.latest_time = now
display.general.type = statistics
display.page.search.mode = fast
display.statistics.drilldown = none
display.statistics.rowNumbers = 1
display.visualizations.chartHeight = 420
display.visualizations.charting.chart.style = minimal
display.visualizations.show = 0
enableSched = 1
request.ui_dispatch_app = nmon
request.ui_dispatch_view = search
search = index=_internal source=*metrics.log group=per_index_thruput series="nmon"  series=nmon | eval MB = round(kb/1024,2) | timechart span=1d sum(MB) As total_MB

#############################################################
# NMON Inventory
#############################################################

[Generate NMON Inventory Lookup Table]
action.email.reportServerEnabled = 0
action.email.useNSSubject = 1
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1mon@d
cron_schedule = 0 1 * * *
description = Generation of NMON Inventory Lookup Table
dispatch.earliest_time = -30d
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","hostname"]
display.events.type = raw
display.general.type = statistics
display.statistics.drilldown = none
display.statistics.rowNumbers = 1
display.visualizations.chartHeight = 420
display.visualizations.charting.chart = line
display.visualizations.charting.chart.style = minimal
display.visualizations.show = 0
display.visualizations.type = singlevalue
enableSched = 1
request.ui_dispatch_app = nmon
request.ui_dispatch_view = search
search = `nmon_config`\
| stats\
values(OStype) As OStype,\
values(AIX_Machine_SerialNumber) As AIX_Machine_SerialNumber,\
values(AIX_virtualcpus) As AIX_virtualcpus,\
values(AIX_logicalcores) As AIX_logicalcores, \
values(AIX_entitled) As entitled,\
values(AIX_LEVEL) As AIX_LEVEL,\
values(AIX_processor_mode) As AIX_processor_mode,\
values(AIX_processor_clockspeed) As AIX_processor_clockspeed,\
values(AIX_cpu_type) As AIX_cpu_type,\
values(AIX_kernel_type) As AIX_kernel_type,\
values(AIX_plateform_firmware_level) As AIX_plateform_firmware_level,\
values(AIX_PoolID) As AIX_PoolID,\
values(AIX_system_installed_CPUs) As AIX_system_installed_CPUs,\
values(AIX_system_active_CPUs) As AIX_system_active_CPUs,\
values(AIX_PoolCPUs) As AIX_PoolCPUs,\
values(Linux_memory_MB) As Linux_memory_MB,\
values(Linux_swap_MB) As Linux_swap_MB,\
values(Linux_distribution) As Linux_distribution,\
values(Linux_kernelversion) As Linux_kernelversion,\
values(Solaris_version) As Solaris_version, \
values(Solaris_processor_clockspeed) As Solaris_processor_clockspeed,\
values(Processor) As Processor,\
values(cpu_cores) As cpu_cores,\
values(nmon_version) As nmon_version by hostname | fillnull value=Undeterminated\
| outputlookup nmon_inventory


#############################################################
# NMON Processing Errors
#############################################################

[Errors in NMON Processing]
action.email.reportServerEnabled = 0
action.email.useNSSubject = 1
alert.track = 0
dispatch.earliest_time = -24h@h
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","hostname"]
display.events.type = raw
display.statistics.drilldown = none
display.statistics.rowNumbers = 1
display.visualizations.chartHeight = 420
display.visualizations.charting.chart = line
display.visualizations.charting.chart.style = minimal
display.visualizations.show = 0
display.visualizations.type = singlevalue
request.ui_dispatch_app = nmon
request.ui_dispatch_view = search
search = index=nmon sourcetype=nmon_processing error


#############################################################
# NMON Collect Activity
#############################################################


[Activity of NMON Data Collect]
action.email.reportServerEnabled = 0
action.email.useNSSubject = 1
alert.track = 0
dispatch.earliest_time = -24h@h
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","hostname"]
display.events.type = raw
display.general.type = statistics
display.statistics.drilldown = none
display.statistics.rowNumbers = 1
display.visualizations.chartHeight = 420
display.visualizations.charting.chart = line
display.visualizations.charting.chart.style = minimal
display.visualizations.show = 0
display.visualizations.type = singlevalue
request.ui_dispatch_app = nmon
request.ui_dispatch_view = search
search = index=nmon sourcetype="nmon_collect" | table _time,host,_raw | rename _raw as event
